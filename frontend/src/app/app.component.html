<ion-app>
  <ion-header transluscent="true">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button menu="leftmenu"></ion-menu-button>
      </ion-buttons>

      <ion-title
        ><img
          style="display: inline-block; padding-top: 8px; height: 5ex"
          src="assets/theme/logo.png"
      /></ion-title>

      <ion-buttons id="usermenu-button" slot="end">
        <div *ngIf="!(authService.isAuthenticated | async)">
          <ion-button routerLink="/auth/login">
            <ion-icon name="log-in-outline"></ion-icon>
            Login
          </ion-button>
        </div>

        <div *ngIf="authService.isAuthenticated | async">
          <ion-icon name="person-circle" size="large"></ion-icon>
          <ion-popover trigger="usermenu-button" [dismissOnSelect]="true">
            <ng-template>
              <ion-content>
                <ion-list>
                  <ion-item [button]="true" routerLink="/auth/userdetail">
                    <ion-icon name="settings-outline" slot="end"></ion-icon>
                    Settings
                  </ion-item>
                  <ion-item [button]="true" (click)="authService.logout()">
                    <ion-icon name="log-out-outline" slot="end"></ion-icon>
                    Logout
                  </ion-item>
                </ion-list>
              </ion-content>
            </ng-template>
          </ion-popover>
        </div>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-menu side="start" menuId="leftmenu" contentId="main" class="left-menu">
    <ion-header>
      <ion-toolbar color="tertiary">
        <ion-title>Menu</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-menu-toggle auto-hide="true" routerLink="home">
          <ion-item [button]="true" routerLink="home">Home</ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle auto-hide="true">
          <ion-item [button]="true" routerLink="lobby">Lobby</ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle *ngIf="showLeaveGame | async" auto-hide="true">
          <ion-item [button]="true" (click)="leaveGame()">Leave Game</ion-item>
        </ion-menu-toggle>
      </ion-list>
    </ion-content>
  </ion-menu>

  <ion-content>
    <ion-router-outlet id="main"></ion-router-outlet>
  </ion-content>
  <!--ion-footer>
    <ion-toolbar>
      <ion-title>Footer</ion-title>
    </ion-toolbar>
  </ion-footer-->
</ion-app>
